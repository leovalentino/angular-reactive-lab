<div class="product-list">
  <h2>Product List</h2>
  
  <div class="button-group">
    <button (click)="addRandomProduct()">Add Random Product</button>
    <button (click)="refreshList()" [disabled]="loading()">
      {{ loading() ? 'Refreshing...' : 'Refresh List' }}
    </button>
  </div>
  
  @if (loading()) {
    <div class="loading">
      <p>Loading products...</p>
    </div>
  } @else {
    @if (products().length === 0) {
      <p>No products available. Add some products or refresh the list!</p>
    } @else {
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Price</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          @for (product of products(); track product.id) {
            <tr>
              <td>{{ product.id }}</td>
              <td>{{ product.name }}</td>
              <td>${{ product.price }}</td>
              <td>
                <button class="remove-btn" (click)="removeProduct(product.id)">Remove</button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    }
  }
  
  <div class="total">
    <h3>Total Value: ${{ totalValue() }}</h3>
  </div>
</div>
